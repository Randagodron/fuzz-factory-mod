Version 4
SHEET 1 1968 1668
WIRE 32 -272 32 -304
WIRE 32 -160 32 -192
WIRE 320 -160 32 -160
WIRE 416 -160 320 -160
WIRE 608 -160 416 -160
WIRE 672 -160 608 -160
WIRE 608 -128 608 -160
WIRE 672 -128 672 -160
WIRE 32 -32 32 -160
WIRE 672 0 672 -48
WIRE 864 0 672 0
WIRE 672 48 672 0
WIRE 192 64 160 64
WIRE 512 64 272 64
WIRE 864 64 864 0
WIRE -512 80 -512 32
WIRE 32 96 32 48
WIRE 32 96 -64 96
WIRE -768 112 -768 80
WIRE 512 128 512 64
WIRE 608 128 608 -48
WIRE 608 128 512 128
WIRE -64 144 -64 96
WIRE 320 144 320 -160
WIRE 608 160 608 128
WIRE 672 160 672 128
WIRE 672 160 608 160
WIRE 864 160 864 128
WIRE 864 160 672 160
WIRE 32 192 32 96
WIRE 64 192 32 192
WIRE 160 192 160 64
WIRE 160 192 128 192
WIRE 256 192 160 192
WIRE -768 224 -768 192
WIRE -512 224 -512 160
WIRE 32 224 32 192
WIRE 608 240 608 160
WIRE -160 272 -192 272
WIRE -64 272 -64 224
WIRE -64 272 -96 272
WIRE -32 272 -64 272
WIRE 320 288 320 240
WIRE 544 288 320 288
WIRE -192 320 -192 272
WIRE 320 320 320 288
WIRE -768 368 -768 320
WIRE -512 368 -512 320
WIRE 608 400 608 336
WIRE 320 432 320 400
WIRE -192 448 -192 400
WIRE 32 448 32 320
WIRE -768 512 -768 448
WIRE -512 512 -512 448
WIRE 608 512 608 480
WIRE 768 512 768 464
WIRE 320 576 320 512
WIRE 608 640 608 592
WIRE 640 640 608 640
WIRE 768 640 768 592
WIRE 768 640 704 640
WIRE 896 640 768 640
WIRE 608 688 608 640
WIRE 608 800 608 768
FLAG -768 80 vcc
FLAG -768 224 0
FLAG 896 640 out
FLAG -512 224 0
FLAG -768 512 0
FLAG -512 512 0
FLAG -768 320 vsin
FLAG -512 320 venv
FLAG 768 464 0
FLAG -192 448 0
FLAG 32 448 0
FLAG 32 -304 vcc
FLAG 320 576 0
FLAG 608 800 0
FLAG -512 32 vin
FLAG 416 -160 Vstab
SYMBOL voltage -768 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage -768 352 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value SINE(0 10m 1k)
SYMBOL voltage -512 352 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PWL(0 0.001 100m 1)
SYMBOL bv -512 64 R0
SYMATTR InstName B1
SYMATTR Value V=V(vsin)*V(venv)
SYMBOL pnp 256 240 M180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL pnp 544 336 M180
SYMATTR InstName Q3
SYMATTR Value 2N2907
SYMBOL cap -96 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 304 416 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL res 592 496 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Rvol
SYMATTR Value 5.1k
SYMBOL res 288 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rfeeddback
SYMATTR Value 47k
SYMBOL res 656 -144 R0
SYMATTR InstName Rgain1
SYMATTR Value R=20k*(1-GAIN)
SYMBOL res 656 32 R0
SYMATTR InstName Rgain2
SYMATTR Value R=20k*GAIN
SYMBOL cap 848 64 R0
SYMATTR InstName Cgain
SYMATTR Value 10µ
SYMBOL res 624 496 M0
WINDOW 0 -70 66 Left 2
WINDOW 3 85 112 VLeft 2
SYMATTR InstName Rvol1
SYMATTR Value R=5k*(1-VOLUME)
SYMBOL res 624 672 M0
WINDOW 0 -39 62 Left 2
WINDOW 3 84 142 VLeft 2
SYMATTR InstName Rvol2
SYMATTR Value R=5k*VOLUME
SYMBOL npn -32 224 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res -80 128 R0
SYMATTR InstName R10
SYMATTR Value 220k
SYMBOL cap 128 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 704 656 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL res 752 608 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 220k
SYMBOL res 304 528 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value R=10k*GATE
SYMBOL res 16 -48 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 624 -144 M0
SYMATTR InstName Rcomp
SYMATTR Value R=10k*COMP
SYMBOL res -176 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 200k
SYMBOL res 16 -288 R0
SYMATTR InstName Rstab
SYMATTR Value R=5k*STAB
TEXT -544 -288 Left 2 !.param GAIN=0.5
TEXT -544 -264 Left 2 !.param VOLUME=0.2
TEXT -544 -240 Left 2 !.param STAB=0.5
TEXT -544 -72 Left 2 !.tran 100m
TEXT -544 -40 Left 2 !;ac oct 100 10 30k
TEXT -1800 -608 Left 2 !.model AC128_Low_Gain PNP(Bf=70 Vje=0.2 Is=1.41f Xti=3 Eg=1.11\n+ Ne=1.5 Ise=0 Ikf=80m Xtb=1.5 Br=4.977 Nc=2\n+ Isc=0 Ikr=0 Rc=2.5 Cjc=9.728p Mjc=0.5776\n+ Vjc=0.2 Fc=0.5 Cje=8.063p Mje=0.3677 Tr=33.42n\n+ Tf=179.3p Itf=0.4 Vtf=4 Xtf=6 Rb=10)
TEXT -1800 -784 Left 2 !.model AC128_High_Gain PNP(Bf=120 Vje=0.2 Is=1.41f Xti=3 Eg=1.11\n+ Ne=1.5 Ise=0 Ikf=80m Xtb=1.5 Br=4.977 Nc=2\n+ Isc=0 Ikr=0 Rc=2.5 Cjc=9.728p Mjc=0.5776\n+ Vjc=0.2 Fc=0.5 Cje=8.063p Mje=0.3677 Tr=33.42n\n+ Tf=179.3p Itf=0.4 Vtf=4 Xtf=6 Rb=10)
TEXT -544 -216 Left 2 !.param GATE=0.5
TEXT -544 -192 Left 2 !.param COMP=0.5
